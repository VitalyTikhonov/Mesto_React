{"version":3,"sources":["configs/config.js","utils/Api.js","contexts/CurrentUserContext.js","contexts/LoginStatusContext.js","components/NavBar.js","images/logo.svg","components/Header.js","components/Loader.js","components/ProtectedRoute.js","images/vitaliytikhonov.jpg","components/ProjectInfo.js","components/UserProfile.js","components/Card.js","components/CardList.js","components/Main.js","components/PopupForm.js","components/PopupImageView.js","images/close.svg","components/Popup.js","components/EditProfileInputSet.js","components/ChangePhotoInputSet.js","components/NewPlaceInputSet.js","components/SignupInputSet.js","components/LoginInputSet.js","configs/constants.js","components/App.js","index.js"],"names":["API_URL","api","this","baseUrl","content_type","res","ok","json","Promise","reject","fetch","method","credentials","then","primaryResponseHandler","userName","userDescription","avatar","password","email","headers","body","JSON","stringify","placeName","placeImagelink","name","link","id","liking","CurrentUserContext","createContext","LoginStatusContext","NavBar","loginStatus","useContext","className","exact","to","activeClassName","Header","props","popupMap","handlePopupControlAction","authStatus","logout","login","form","src","logoImage","alt","type","onClick","eventImitation","target","Loader","ProtectedRoute","Component","component","ProjectInfo","authorPhotoPath","UserProfile","editProfile","changePhoto","newPlace","style","backgroundImage","Card","cardData","_id","owner","likes","popupName","onCardLike","onCardDelete","currentUser","isOwn","isLiked","some","imageUrl","event","stopPropagation","window","confirm","disabled","length","CardList","imageZoom","cards","handleCardLike","handleCardDelete","onesOwnCardsOnly","useState","cardsToRender","setCardsToRender","useEffect","ownCards","filter","c","map","index","Main","path","PopupForm","InputSet","inputState","values","updater","contentsConfig","title","updateData","toggleAuthDialog","onSubmit","preventDefault","noValidate","handleInputChange","value","PopupImageView","card","tabIndex","Popup","popup","document","getElementById","handleEscapeAndClickBeyond","key","addEventListener","removeEventListener","closeImage","EditProfileInputSet","onChange","placeholder","required","minLength","maxLength","ChangePhotoInputSet","NewPlaceInputSet","SignupInputSet","LoginInputSet","popupConfig","signup","App","setLoginStatus","isSignupPopupOpen","setSignupPopupOpen","isLoginPopupOpen","setLoginPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","signupValues","setSignupValues","loginValues","setLoginValues","editProfileValues","setEditProfileValues","changePhotoValues","setChangePhotoValues","newPlaceValues","setNewPlaceValues","userInputObj","a","serverResponse","errResJson","console","log","saveProfile","addCard","likeOrUnlike","toggleCardLike","newCard","newCards","cardId","deleteCard","deletedCard","activeElement","blur","getUserInfo","currentUserData","fetchUserData","getCards","fetchCards","Provider","ReactDOM","render","StrictMode"],"mappings":"sSAiBMA,GAVgC,2BAPzB,KAiBA,UAJT,kCAIS,OADT,2BCwLWC,EAFH,I,WAhMV,aAAe,oBACbC,KAAKC,QAAUH,EAEfE,KAAKE,aAAe,mB,mEAGCC,GACrB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAOJ,K,oCAGT,IAAD,OACZ,OAAOK,MAAM,GAAD,OACPR,KAAKC,QADE,aAEV,CACEQ,OAAQ,MAKRC,YAAa,YAGdC,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,Q,gCASzC,IAAD,OALDU,EAKC,EALDA,SACAC,EAIC,EAJDA,gBACAC,EAGC,EAHDA,OACAC,EAEC,EAFDA,SACAC,EACC,EADDA,MAEA,OAAOT,MAAM,GAAD,OACPR,KAAKC,QADE,WAEV,CACEQ,OAAQ,OACRS,QAAS,CAEP,eAAgBlB,KAAKE,cAEvBQ,YAAa,UACbS,KAAMC,KAAKC,UAAU,CACnBR,WACAC,kBACAC,SACAC,WACAC,YAIHN,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,Q,+BAGjB,IAAD,OAAnBc,EAAmB,EAAnBA,MAAOD,EAAY,EAAZA,SACb,OAAOR,MAAM,GAAD,OACPR,KAAKC,QADE,WAEV,CACEQ,OAAQ,OACRS,QAAS,CAEP,eAAgBlB,KAAKE,cAEvBQ,YAAa,UACbS,KAAMC,KAAKC,UAAU,CACnBJ,QACAD,eAIHL,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,Q,+BAGnC,IAAD,OACP,OAAOK,MAAM,GAAD,OACPR,KAAKC,QADE,YAEV,CACEQ,OAAQ,OACRS,QAAS,CAEP,eAAgBlB,KAAKE,cAEvBQ,YAAa,YAGdC,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,Q,qCAGD,IAAD,OAA7BU,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,gBACtB,OAAON,MAAM,GAAD,OACPR,KAAKC,QADE,aAEV,CACEQ,OAAQ,QACRS,QAAS,CAEP,eAAgBlB,KAAKE,cAEvBQ,YAAa,UACbS,KAAMC,KAAKC,UAAU,CACnBR,WACAC,sBAIHH,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,Q,qCAGpB,IAAD,OAAVY,EAAU,EAAVA,OACZ,OAAOP,MAAM,GAAD,OACPR,KAAKC,QADE,oBAEV,CACEQ,OAAQ,QACRS,QAAS,CAEP,eAAgBlB,KAAKE,cAEvBQ,YAAa,UACbS,KAAMC,KAAKC,UAAU,CACnBN,aAIHJ,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,Q,iCAGjC,IAAD,OACT,OAAOK,MAAM,GAAD,OACPR,KAAKC,QADE,UAEV,CACEQ,OAAQ,MAKRC,YAAa,YAGdC,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,Q,iCAGL,IAAD,OAA7BmB,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,eACnB,OAAOf,MAAM,GAAD,OACPR,KAAKC,QADE,UAEV,CACEQ,OAAQ,OACRS,QAAS,CAEP,eAAgBlB,KAAKE,cAEvBQ,YAAa,UACbS,KAAMC,KAAKC,UAAU,CACnBG,KAAMF,EACNG,KAAMF,MAITZ,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,Q,iCAGlCuB,GAAK,IAAD,OACb,OAAOlB,MAAM,GAAD,OACPR,KAAKC,QADE,kBACeyB,GACzB,CACEjB,OAAQ,SAKRC,YAAa,YAGdC,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,Q,qCAG9BuB,EAAIC,GAAS,IAAD,OACzB,OAAOnB,MAAM,GAAD,OACPR,KAAKC,QADE,kBACeyB,EADf,UAEV,CACEjB,OAAQkB,EAAS,MAAQ,SAKzBjB,YAAa,YAGdC,MAAK,SAAAR,GAAG,OAAI,EAAKS,uBAAuBT,U,MChMlCyB,EAAqBC,0BCArBC,EAAqBD,0BCmBnBE,MAjBf,WACE,IAAMC,EAAcC,qBAAWH,GAC/B,OACE,sBAAKI,UAAU,UAAf,UACE,cAAC,IAAD,CAASC,OAAK,EAACC,GAAG,IAAIF,UAAU,qBAAqBG,gBAAgB,uBAArE,wDACiB,aAAhBL,GACC,cAAC,IAAD,CACEI,GAAG,gBACHF,UAAU,qBACVG,gBAAgB,uBAHlB,4DCVO,MAA0B,iCCyC1BC,MAtCf,SAAgBC,GAAQ,IAEpBC,EAIED,EAJFC,SACAC,EAGEF,EAHFE,yBACcT,EAEZO,EAFFG,WAAcV,YACdW,EACEJ,EADFI,OAGQC,EACNJ,EADFK,KAAQD,MAYV,OACE,yBAAQV,UAAU,uBAAlB,UACE,qBAAKY,IAAKC,EAAWC,IAAI,aAAad,UAAU,SAChD,sBAAKA,UAAU,eAAf,UACE,cAAC,EAAD,IACA,wBACEe,KAAK,SACLf,UAAU,6BAEVgB,QAlBR,WACE,GAAoB,aAAhBlB,EACFW,QACK,CACL,IAAMQ,EAAiB,CAAEC,OAAQ,CAAE1B,GAAIkB,EAAMpB,KAAO,aACpDiB,EAAyBU,KASvB,SAMmB,aAAhBnB,EAA6B,iCAAU,0C,6BC1BnCqB,MANf,WACE,OACE,mBAAGnB,UAAU,sBC+BFoB,MA7Bf,YAA6D,IAAxBC,EAAuB,EAAlCC,UAAyBjB,EAAS,6BACpDP,EAAcC,qBAAWH,GAG/B,MAAoB,YAAhBE,EACK,cAAC,EAAD,IAEgB,aAAhBA,EAA6B,cAACuB,EAAD,eAAehB,IAAY,cAAC,IAAD,CAAUH,GAAG,OCbjE,MAA0B,4CCyB1BqB,MAvBf,WACE,OACE,0BAASvB,UAAU,6BAAnB,UACE,qBACEY,IAAKY,EACLV,IAAI,gEACJd,UAAU,yBAGV,sBAAKA,UAAU,4BAAf,UACE,oBAAIA,UAAU,0CAAd,+DAEA,mBAAGA,UAAU,qBAAb,wdAGA,mBAAGA,UAAU,qBAAb,2VAEA,mBAAGA,UAAU,qBAAb,6kBCUKyB,MA1Bf,SAAqBpB,GAAQ,IACnBE,EAA2EF,EAA3EE,yBADkB,EACyDF,EAAjDM,KAAQe,EADhB,EACgBA,YAAaC,EAD7B,EAC6BA,YAAaC,EAD1C,EAC0CA,SAD1C,EAStB7B,qBAAWL,GALbd,EAJwB,EAIxBA,gBACAC,EALwB,EAKxBA,OAEAF,EAPwB,EAOxBA,SAIF,OACE,yBAASqB,UAAU,wBAAnB,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,mBAAmBR,GAAImC,EAAYrC,KAAO,WAAY0B,QAAST,EAA0BsB,MAAO,CAAEC,gBAAgB,OAAD,OAASjD,EAAT,QAChI,sBAAKmB,UAAU,kBAAf,UACE,oBAAIA,UAAU,kBAAd,SAAiCrB,IACjC,mBAAGqB,UAAU,mBAAb,SAAiCpB,IACjC,wBAAQoB,UAAU,wCAAwCR,GAAIkC,EAAYpC,KAAO,WAAY0B,QAAST,EAAtG,+FAEF,wBAAQP,UAAU,2BAA2BR,GAAIoC,EAAStC,KAAO,WAAY0B,QAAST,EAAtF,qBC4COwB,MA/Df,SAAc1B,GAAQ,IAElB2B,EAME3B,EANF2B,SAFiB,EAQf3B,EALF2B,SAAYC,EAHK,EAGLA,IAAK3C,EAHA,EAGAA,KAAMC,EAHN,EAGMA,KAAM2C,EAHZ,EAGYA,MAAOC,EAHnB,EAGmBA,MACpC5B,EAIEF,EAJFE,yBACA6B,EAGE/B,EAHF+B,UACAC,EAEEhC,EAFFgC,WACAC,EACEjC,EADFiC,aAEIC,EAAcxC,qBAAWL,GACzBI,EAAcC,qBAAWH,GAEzB4C,EAAQN,IAAUK,EAAYN,IAC9BQ,EAAUN,EAAMO,MAAK,SAACT,GAAD,OAASA,IAAQM,EAAYN,OAuBxD,OACE,sBAAKjC,UAAU,aAAf,UACE,qBACEA,UAAU,oBACV6B,MAAO,CAAEC,gBAAgB,OAAD,OAASvC,EAAT,MACxByB,QA1BN,WAOET,EANuB,CACrBW,OAAQ,CACN1B,GAAI4C,EAAY,WAChBO,SAAUpD,MAmBZ,SAKE,wBACES,UAAU,0BACVgB,QAhBR,SAA2B4B,GACzBA,EAAMC,kBACFC,OAAOC,QAAQ,iGACjBT,EAAaL,IAcTe,UAAWR,MAEf,sBAAKxC,UAAU,0BAAf,UACE,oBAAIA,UAAU,mBAAd,SAAkCV,IAClC,sBAAKU,UAAU,OAAf,UACE,wBACEA,UAAS,qBAAgByC,EAAU,mBAAqB,IACxDzB,QA5BV,WACEqB,EAAWL,GAAWS,IA4BdO,SAA0B,aAAhBlD,IAEZ,sBAAME,UAAU,cAAhB,SAA+BmC,EAAMc,mBClBhCC,MAtCf,SAAkB7C,GAAQ,IAEtB8C,EAME9C,EANF8C,UACAC,EAKE/C,EALF+C,MACA7C,EAIEF,EAJFE,yBACA8C,EAGEhD,EAHFgD,eACAC,EAEEjD,EAFFiD,iBACAC,EACElD,EADFkD,iBAEIhB,EAAcxC,qBAAWL,GATR,EAUmB8D,mBAAS,IAV5B,mBAUhBC,EAVgB,KAUDC,EAVC,KAqBvB,OATAC,qBAAU,WACR,GAAKJ,EAEE,CACL,IAAMK,EAAWR,EAAMS,QAAO,SAACC,GAAD,OAAOA,EAAE5B,QAAUK,EAAYN,OAC7DyB,EAAiBE,QAHjBF,EAAiBN,KAKlB,CAACG,EAAkBH,EAAOb,EAAYN,MAGvC,yBAASjC,UAAU,4BAAnB,SACGyD,GAAiBA,EAAcM,KAAI,SAAC/B,EAAUgC,GAC7C,OAAO,cAAC,EAAD,CAELhC,SAAUA,EACVzB,yBAA0BA,EAC1B6B,UAAWe,EAAU7D,KACrB+C,WAAYgB,EACZf,aAAcgB,GANT,UACGU,EADH,YACYhC,EAASxC,WCoBrByE,MA3Cf,SAAc5D,GAAQ,IAAD,EAOfA,EALFC,SAAYK,EAFK,EAELA,KAAMwC,EAFD,EAECA,UAClB5C,EAIEF,EAJFE,yBACA6C,EAGE/C,EAHF+C,MACAC,EAEEhD,EAFFgD,eACAC,EACEjD,EADFiD,iBAGF,OACE,sBAAMtD,UAAU,OAAhB,SACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAOC,OAAK,EAACiE,KAAK,IAAlB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACEf,UAAWA,EACXC,MAAOA,EACP7C,yBAA0BA,EAC1B8C,eAAgBA,EAChBC,iBAAkBA,OAItB,eAAC,IAAD,CAAOY,KAAK,gBAAZ,UACE,cAAC,EAAD,CACE5C,UAAWG,EACXd,KAAMA,EACNJ,yBAA0BA,IAE5B,cAAC,EAAD,CACE4C,UAAWA,EACXC,MAAOA,EACP7C,yBAA0BA,EAC1B8C,eAAgBA,EAChBC,iBAAkBA,EAClBC,iBAAiB,kB,QCSdY,MAlDf,SAAmB9D,GAAQ,IAEvB+D,EAME/D,EANF+D,SACAC,EAKEhE,EALFgE,WAHsB,EAQpBhE,EAJFgE,WAAcC,EAJQ,EAIRA,OAAQC,EAJA,EAIAA,QAJA,EAQpBlE,EAHFmE,eAAwBpC,EALF,EAKJ9C,KAAiBmF,EALb,EAKaA,MACnCC,EAEErE,EAFFqE,WACAC,EACEtE,EADFsE,iBAgBF,OACE,sBAAK3E,UAAU,0CAAf,UACE,oBAAIA,UAAU,eAAd,SAA8ByE,IAC9B,uBAAMzE,UAAU,cAAcV,KAAM8C,EAAWwC,SARnD,SAAsBhC,GACpBA,EAAMiC,iBACNH,EAAWJ,IAM8DQ,YAAU,EAAjF,UACE,cAACV,EAAD,CAAUW,kBAjBhB,SAA2BnC,GAAQ,IAAD,EACRA,EAAM1B,OAAtB5B,EADwB,EACxBA,KAAM0F,EADkB,EAClBA,MACdT,EAAQ,2BACHD,GADE,kBAEJhF,EAAO0F,MAa0CX,WAAYA,IAC5D,wBAAQtD,KAAK,SAASf,UAAU,uBAAhC,oEAFF,IAIkB,UAAdoC,GAEE,oBAAGpC,UAAU,gBAAb,gCACM,sBAAMA,UAAU,qBAAqBgB,QAAS2D,EAA9C,6HAKM,WAAdvC,GAEE,oBAAGpC,UAAU,gBAAb,gCACM,sBAAMA,UAAU,qBAAqBgB,QAAS2D,EAA9C,sDCzCH,SAASM,EAAe5E,GAAQ,IACrC6E,EAAS7E,EAAT6E,KAER,OACI,qBAAKlF,UAAU,qDAAf,SACE,qBAAKY,IAAKsE,EAAMpE,IAAI,GAAGd,UAAU,eAAemF,SAAU,MCLnD,UAA0B,kCC0D1BC,MArDf,SAAe/E,GAAQ,IAEnBmE,EAQEnE,EARFmE,eACkBlF,EAOhBe,EAPFmE,eAAkBlF,KAClBiB,EAMEF,EANFE,yBACAmE,EAKErE,EALFqE,WACAN,EAIE/D,EAJF+D,SACAC,EAGEhE,EAHFgE,WACAa,EAEE7E,EAFF6E,KACAP,EACEtE,EADFsE,iBAqBF,OAlBAhB,qBAAU,WACR,IAAM0B,EAAQC,SAASC,eAAT,UAA2BjG,EAA3B,UACd,SAASkG,EAA2B5C,IAChB,WAAdA,EAAM6C,KAAoC,UAAf7C,EAAM7B,MAAoB6B,EAAM1B,SAAWmE,IAExE9E,EADuB,CAAEW,OAAQ,CAAE1B,GAAIF,EAAO,cAQlD,OAHAgG,SAASI,iBAAiB,UAAWF,GACrCF,SAASI,iBAAiB,QAASF,GAE5B,WACLF,SAASK,oBAAoB,UAAWH,GACxCF,SAASK,oBAAoB,QAASH,OAKxC,qBAAKxF,UAAU,sBAAsBR,GAAIF,EAAO,QAAS6F,SAAU,EAAnE,SACE,sBAAKnF,UAAU,cAAf,UACE,qBACEY,IAAKgF,EACL9E,IAAI,QACJd,UAAU,eACVR,GAAIF,EAAO,WACX0B,QAAST,IAEV6D,GAAY,cAAC,EAAD,CACXA,SAAUA,EACVI,eAAgBA,EAChBE,WAAYA,EACZL,WAAYA,EACZM,iBAAkBA,IAEnBO,GAAQ,cAACD,EAAD,CAAgBC,KAAMA,UCxBxBW,MAzBf,SAA6BxF,GAAQ,IAEjC0E,EAEE1E,EAFF0E,kBAFgC,EAI9B1E,EADFgE,WAAcC,EAHkB,EAGlBA,OAAQC,EAHU,EAGVA,QAHU,EAMIxE,qBAAWL,GAAzCd,EAN0B,EAM1BA,gBAAiBD,EANS,EAMTA,SASzB,OAPAgF,qBAAU,WACRY,EAAQ,CACN5F,WACAC,sBAED,CAAC2F,EAAS5F,EAAUC,IAGrB,qCACE,uBAAOmC,KAAK,OAAOzB,KAAK,WAAW0F,MAAOV,EAAO3F,SAAUa,GAAG,YAAYQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,qBAAMC,UAAQ,EAACC,UAAW,EAAGC,UAAW,KACpL,sBAAMlG,UAAU,eAAeR,GAAG,oBAClC,uBAAOuB,KAAK,OAAOzB,KAAK,kBAAkB0F,MAAOV,EAAO1F,gBAAiBY,GAAG,mBAAmBQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,kCAASC,UAAQ,EAACC,UAAW,EAAGC,UAAW,KAC5M,sBAAMlG,UAAU,eAAeR,GAAG,+BCAzB2G,MApBf,SAA6B9F,GAAQ,IAEjC0E,EAEE1E,EAFF0E,kBAFgC,EAI9B1E,EADFgE,WAAcC,EAHkB,EAGlBA,OAAQC,EAHU,EAGVA,QAGhB1F,EAAWkB,qBAAWL,GAAtBb,OAMR,OAJA8E,qBAAU,WACRY,EAAQ,CAAE1F,aACT,CAAC0F,EAAS1F,IAGX,qCACE,uBAAOkC,KAAK,MAAMzB,KAAK,SAAS0F,MAAOV,EAAOzF,OAAQW,GAAG,SAASQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,yFAAmBC,UAAQ,IAC/J,sBAAMhG,UAAU,eAAeR,GAAG,qBCFzB4G,MAhBf,SAA0B/F,GAAQ,IAE9B0E,EAEE1E,EAFF0E,kBACcT,EACZjE,EADFgE,WAAcC,OAGhB,OACE,qCACE,uBAAOvD,KAAK,OAAOzB,KAAK,YAAY0F,MAAOV,EAAOlF,UAAWI,GAAG,aAAaQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,mDAAWC,UAAQ,EAACC,UAAW,EAAGC,UAAW,KAC5L,sBAAMlG,UAAU,eAAeR,GAAG,qBAClC,uBAAOuB,KAAK,MAAMzB,KAAK,iBAAiB0F,MAAOV,EAAOjF,eAAgBG,GAAG,aAAaQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,qGAAqBC,UAAQ,IACrL,sBAAMhG,UAAU,eAAeR,GAAG,yBCWzB6G,MAtBf,SAAwBhG,GAAQ,IAE5B0E,EAEE1E,EAFF0E,kBACcT,EACZjE,EADFgE,WAAcC,OAGhB,OACE,qCACE,uBAAOvD,KAAK,OAAOzB,KAAK,WAAW0F,MAAOV,EAAO3F,SAAUa,GAAG,YAAYQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,qBAAMC,UAAQ,EAACC,UAAW,EAAGC,UAAW,KACpL,sBAAMlG,UAAU,eAAeR,GAAG,oBAClC,uBAAOuB,KAAK,OAAOzB,KAAK,kBAAkB0F,MAAOV,EAAO1F,gBAAiBY,GAAG,mBAAmBQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,kCAASC,UAAQ,EAACC,UAAW,EAAGC,UAAW,KAC5M,sBAAMlG,UAAU,eAAeR,GAAG,2BAClC,uBAAOuB,KAAK,MAAMzB,KAAK,SAAS0F,MAAOV,EAAOzF,OAAQW,GAAG,SAASQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,yFAAmBC,UAAQ,IAC/J,sBAAMhG,UAAU,eAAeR,GAAG,iBAClC,uBAAOuB,KAAK,QAAQzB,KAAK,QAAQ0F,MAAOV,EAAOvF,MAAOS,GAAG,QAAQQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,mIAA0BC,UAAQ,EAACC,UAAW,EAAGC,UAAW,KAC/L,sBAAMlG,UAAU,eAAeR,GAAG,gBAClC,uBAAOuB,KAAK,WAAWzB,KAAK,WAAW0F,MAAOV,EAAOxF,SAAUU,GAAG,WAAWQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,uCAASC,UAAQ,EAACC,UAAW,EAAGC,UAAW,KAC1L,sBAAMlG,UAAU,eAAeR,GAAG,uBCDzB8G,MAhBf,SAAuBjG,GAAQ,IAE3B0E,EAEE1E,EAFF0E,kBACcT,EACZjE,EADFgE,WAAcC,OAGhB,OACE,qCACE,uBAAOvD,KAAK,QAAQzB,KAAK,QAAQ0F,MAAOV,EAAOvF,MAAOS,GAAG,QAAQQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,8KAAkCC,UAAQ,EAACC,UAAW,EAAGC,UAAW,KACvM,sBAAMlG,UAAU,eAAeR,GAAG,gBAClC,uBAAOuB,KAAK,WAAWzB,KAAK,WAAW0F,MAAOV,EAAOxF,SAAUU,GAAG,WAAWQ,UAAU,eAAe8F,SAAUf,EAAmBgB,YAAY,kFAAiBC,UAAQ,EAACC,UAAW,EAAGC,UAAW,KAClM,sBAAMlG,UAAU,eAAeR,GAAG,uBCX3B+G,EAAc,CACzB5F,KAAM,CACJ6F,OAAQ,CACNlH,KAAM,SACNmF,MAAO,gHAET/D,MAAO,CACLpB,KAAM,QACNmF,MAAO,kCAET/C,YAAa,CACXpC,KAAM,cACNmF,MAAO,6HAET9C,YAAa,CACXrC,KAAM,cACNmF,MAAO,mFAET7C,SAAU,CACRtC,KAAM,WACNmF,MAAO,kEAGXtB,UAAW,CACT7D,KAAM,cCqTKmH,MA7Tf,WAAgB,IAAD,EACyBjD,mBAAS,WADlC,mBACN1D,EADM,KACO4G,EADP,OAGmClD,oBAAS,GAH5C,mBAGNmD,EAHM,KAGaC,EAHb,OAIiCpD,oBAAS,GAJ1C,mBAINqD,EAJM,KAIYC,EAJZ,OAK+CtD,oBAAS,GALxD,mBAKNuD,EALM,KAKkBC,EALlB,OAM6CxD,oBAAS,GANtD,mBAMNyD,EANM,KAMiBC,EANjB,OAOuC1D,oBAAS,GAPhD,mBAON2D,EAPM,KAOcC,EAPd,OAQM5D,mBAAS+C,GAArBjG,EARM,sBAS2BkD,mBAAS,MATpC,mBASN6D,EATM,KASQC,EATR,OAUyB9D,mBAAS,CAC7C7E,SAAU,GACVC,gBAAiB,GACjBC,OAAQ,GACRE,MAAO,GACPkD,IAAK,KAfM,mBAUNM,EAVM,KAUOgF,EAVP,OAiBa/D,mBAAS,IAjBtB,mBAiBNJ,GAjBM,KAiBCoE,GAjBD,QAmB2BhE,mBAAS,CAC/C7E,SAAU,GACVC,gBAAiB,GACjBC,OAAQ,GACRC,SAAU,GACVC,MAAO,KAxBI,qBAmBN0I,GAnBM,MAmBQC,GAnBR,SA0ByBlE,mBAAS,CAC7CzE,MAAO,GACPD,SAAU,KA5BC,qBA0BN6I,GA1BM,MA0BOC,GA1BP,SA8BqCpE,mBAAS,CACzD7E,SAAU,GACVC,gBAAiB,KAhCN,qBA8BNiJ,GA9BM,MA8BaC,GA9Bb,SAkCqCtE,mBAAS,CACzD3E,OAAQ,KAnCG,qBAkCNkJ,GAlCM,MAkCaC,GAlCb,SAqC+BxE,mBAAS,CACnDpE,UAAW,GACXC,eAAgB,KAvCL,qBAqCN4I,GArCM,MAqCUC,GArCV,oDA0Cb,WAAsBC,GAAtB,iBAAAC,EAAA,+EAEiCvK,EAAI2I,OAAO2B,GAF5C,OAEUE,EAFV,OAIIzB,GAAmB,GAEnBF,EAAe,YACfa,EAAec,GACfX,GAAgB,CACd/I,SAAU,GACVC,gBAAiB,GACjBC,OAAQ,GACRE,MAAO,KAZb,mEAe6B,KAAIZ,OAfjC,QAeUmK,EAfV,OAgBIC,QAAQC,IAAIF,GACZ5B,EAAe,aAjBnB,2DA1Ca,oEA+Db,WAAqByB,GAArB,iBAAAC,EAAA,+EAEiCvK,EAAI6C,MAAMyH,GAF3C,OAEUE,EAFV,OAIIvB,GAAkB,GAElBJ,EAAe,YACfa,EAAec,GACfT,GAAe,CACb7I,MAAO,GACPD,SAAU,KAVhB,mEAa6B,KAAIX,OAbjC,QAaUmK,EAbV,OAcIC,QAAQC,IAAIF,GAEZ5B,EAAe,aAhBnB,2DA/Da,oEAmFb,4BAAA0B,EAAA,+EAEUvK,EAAI4C,SAFd,OAKIiG,EAAe,aACfa,EAAe,CACb5I,SAAU,GACVC,gBAAiB,GACjBC,OAAQ,GACRE,MAAO,GACPkD,IAAK,KAXX,iEAc6B,KAAI9D,OAdjC,QAcUmK,EAdV,OAeIC,QAAQC,IAAIF,GAfhB,0DAnFa,oEAuGb,WAA8BH,GAA9B,iBAAAC,EAAA,+EAEiCvK,EAAI4K,YAAYN,GAFjD,OAEUE,EAFV,OAIId,EAAec,GACfrB,GAA0B,GAL9B,iEAO6B,KAAI7I,OAPjC,QAOUmK,EAPV,OAQIC,QAAQC,IAAIF,GARhB,0DAvGa,oEAmHb,WAAgCH,GAAhC,iBAAAC,EAAA,+EAEiCvK,EAAI8D,YAAYwG,GAFjD,OAEUE,EAFV,OAGId,EAAec,GACfnB,GAAyB,GAJ7B,iEAM6B,KAAI/I,OANjC,QAMUmK,EANV,OAOIC,QAAQC,IAAIF,GAPhB,0DAnHa,oEA8Hb,WAAgCH,GAAhC,iBAAAC,EAAA,+EAEiCvK,EAAI6K,QAAQP,GAF7C,OAEUE,EAFV,OAGIb,GAAS,GAAD,mBAAKpE,IAAL,CAAYiF,KACpBjB,GAAsB,GAJ1B,iEAM6B,KAAIjJ,OANjC,QAMUmK,EANV,OAOIC,QAAQC,IAAIF,GAPhB,0DA9Ha,oEAyIb,WAA8BpD,EAAMyD,GAApC,iBAAAP,EAAA,+EAE0BvK,EAAI+K,eAAe1D,EAAKjD,IAAK0G,GAFvD,OAEUE,EAFV,OAGUC,EAAW1F,GAAMW,KAAI,SAACD,GAAD,OAAOA,EAAE7B,MAAQiD,EAAKjD,IAAM4G,EAAU/E,KACjE0D,GAASsB,GAJb,gDAMIP,QAAQC,IAAR,MANJ,kEAzIa,oEAmJb,WAAgCO,GAAhC,iBAAAX,EAAA,+EAE8BvK,EAAImL,WAAWD,GAF7C,OAEUE,EAFV,OAGUH,EAAW1F,GAAMS,QAAO,SAACC,GAAD,OAAOA,EAAE7B,MAAQgH,EAAYhH,OAC3DuF,GAASsB,GAJb,gDAMIP,QAAQC,IAAR,MANJ,kEAnJa,sBA6Jb,SAAS7D,KACPiC,GAAoBD,GACpBG,GAAmBD,GAIrB,SAAStG,GAAyBqC,GAChC,OAAQA,EAAM1B,OAAO1B,IACnB,IAAI,GAAJ,OAAQc,EAASK,KAAK6F,OAAOlH,KAA7B,YACEsH,GAAoBD,GACpB,MACF,IAAI,GAAJ,OAAQrG,EAASK,KAAKD,MAAMpB,KAA5B,YACEwH,GAAmBD,GACnB,MACF,IAAI,GAAJ,OAAQvG,EAASK,KAAKe,YAAYpC,KAAlC,YACE0H,GAA2BD,GAC3B,MACF,IAAI,GAAJ,OAAQzG,EAASK,KAAKgB,YAAYrC,KAAlC,YACE4H,GAA0BD,GAC1B,MACF,IAAI,GAAJ,OAAQ3G,EAASK,KAAKiB,SAAStC,KAA/B,YACE8H,GAAuBD,GACvB,MACF,IAAI,GAAJ,OAAQ7G,EAAS6C,UAAU7D,KAA3B,YACE,IAAMC,EAAOqD,EAAM1B,OAAOyB,SAEtB2E,EADJ/H,GAEoB,MAIxB+F,SAAS4D,cAAcC,OAkCzB,OA/BAxF,qBAAU,WAAY,4CAEpB,8BAAAyE,EAAA,+EAEkCvK,EAAIuL,cAFtC,OAEUC,EAFV,OAII9B,EAAe8B,GACf3C,EAAe,YALnB,iEAO6B,KAAIvI,OAPjC,QAOUmK,EAPV,OAQIC,QAAQC,IAAIF,GACZ5B,EAAe,aATnB,0DAFoB,0DAcpB4C,KACC,CAACxJ,IAEJ6D,qBAAU,WAAY,4CAEpB,8BAAAyE,EAAA,+EAEwBvK,EAAI0L,WAF5B,OAEUnG,EAFV,OAGIoE,GAASpE,GAHb,iEAK6B,KAAIjF,OALjC,QAKUmK,EALV,OAMIC,QAAQC,IAAIF,GANhB,0DAFoB,0DAWpBkB,KACC,IAGD,cAAC5J,EAAmB6J,SAApB,CAA6BzE,MAAOlF,EAApC,SACE,cAACJ,EAAmB+J,SAApB,CAA6BzE,MAAOzC,EAApC,SACE,sBAAKvC,UAAU,OAAf,UACE,cAAC,EAAD,CACEM,SAAUA,EACVC,yBAA0BA,GAC1BC,WAAY,CAAEV,eACdW,OAtOG,8CAyOL,cAAC,EAAD,CACEH,SAAUA,EACVC,yBAA0BA,GAC1B6C,MAAOA,GACPC,eA7OG,+CA8OHC,iBA9OG,+CAiPJqD,GACC,cAAC,EAAD,CACEnC,eAAgBlE,EAASK,KAAK6F,OAC9BpC,SAAUiC,EACVhC,WAAY,CACVC,OAAQmD,GACRlD,QAASmD,IAEXnH,yBAA0BA,GAC1BmE,WA1PC,6CA2PDC,iBAAkBA,KAGrBkC,GACC,cAAC,EAAD,CACErC,eAAgBlE,EAASK,KAAKD,MAC9B0D,SAAUkC,EACVjC,WAAY,CACVC,OAAQqD,GACRpD,QAASqD,IAEXrH,yBAA0BA,GAC1BmE,WAvQC,6CAwQDC,iBAAkBA,KAGrBoC,GACC,cAAC,EAAD,CACEvC,eAAgBlE,EAASK,KAAKe,YAC9B0C,SAAUyB,EACVxB,WAAY,CACVC,OAAQuD,GACRtD,QAASuD,IAEXvH,yBAA0BA,GAC1BmE,WApRC,+CAuRJuC,GACC,cAAC,EAAD,CACEzC,eAAgBlE,EAASK,KAAKgB,YAC9ByC,SAAU+B,EACV9B,WAAY,CACVC,OAAQyD,GACRxD,QAASyD,IAEXzH,yBAA0BA,GAC1BmE,WAhSC,+CAmSJyC,GACC,cAAC,EAAD,CACE3C,eAAgBlE,EAASK,KAAKiB,SAC9BwC,SAAUgC,EACV/B,WAAY,CACVC,OAAQ2D,GACR1D,QAAS2D,IAEX3H,yBAA0BA,GAC1BmE,WA5SC,+CA+SJ2C,GACC,cAAC,EAAD,CACE7C,eAAgBlE,EAAS6C,UACzB+B,KAAMmC,EACN9G,yBAA0BA,aC7TxCmJ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJtE,SAASC,eAAe,W","file":"static/js/main.43214825.chunk.js","sourcesContent":["const PORT = 3000;\n\nconst connectToYandex = false;\nconst YANDEX_API_URL = 'http://nomoreparties.co/cohort11';\nconst YANDEX_TOKEN = connectToYandex\n  ? '0b72fd76-9a90-456a-b6c4-44b360b3c5bd'\n  : null;\nconst REMOTE_API_URL = connectToYandex\n  ? YANDEX_API_URL\n  : `http://localhost:${PORT}`;\n\nconst DOMAIN = process.env.NODE_ENV === 'development'\n  ? REMOTE_API_URL\n  : 'https://api.vitaliytikhonov.ru';\nconst SUBPATH = process.env.NODE_ENV === 'development'\n  ? ''\n  : '/webdev/projects/mesto';\nconst API_URL = `${DOMAIN}${SUBPATH}`;\n\nexport {\n  API_URL,\n  YANDEX_TOKEN,\n  connectToYandex,\n};\n","import {\n  API_URL,\n  // YANDEX_TOKEN,\n} from '../configs/config';\n\nclass Api {\n  constructor() {\n    this.baseUrl = API_URL;\n    // this.authorization = YANDEX_TOKEN; // headers\n    this.content_type = 'application/json'; // headers\n  }\n\n  primaryResponseHandler(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(res);\n  }\n\n  getUserInfo() {\n    return fetch(\n      `${this.baseUrl}/users/me`,\n      {\n        method: 'GET',\n        // headers: { 'Content-Type': this.content_type },\n        // headers: {\n        //     authorization: this.authorization,\n        // },\n        credentials: 'include',\n      }\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n\n  signup({\n    userName,\n    userDescription,\n    avatar,\n    password,\n    email,\n  }) {\n    return fetch(\n      `${this.baseUrl}/signup`,\n      {\n        method: 'POST',\n        headers: {\n          // authorization: this.authorization,\n          'Content-Type': this.content_type,\n        },\n        credentials: 'include', // включено, поскольку реализована авторизация сразу после регистрации\n        body: JSON.stringify({\n          userName,\n          userDescription,\n          avatar,\n          password,\n          email,\n        })\n      }\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n\n  login({ email, password }) {\n    return fetch(\n      `${this.baseUrl}/signin`,\n      {\n        method: 'POST',\n        headers: {\n          // authorization: this.authorization,\n          'Content-Type': this.content_type,\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          email,\n          password,\n        }),\n      },\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n\n  logout() {\n    return fetch(\n      `${this.baseUrl}/signout`,\n      {\n        method: 'POST',\n        headers: {\n          // authorization: this.authorization,\n          'Content-Type': this.content_type,\n        },\n        credentials: 'include',\n      },\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n\n  saveProfile({ userName, userDescription }) {\n    return fetch(\n      `${this.baseUrl}/users/me`,\n      {\n        method: 'PATCH',\n        headers: {\n          // authorization: this.authorization,\n          'Content-Type': this.content_type,\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          userName,\n          userDescription,\n        })\n      }\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n\n  changePhoto({ avatar }) {\n    return fetch(\n      `${this.baseUrl}/users/me/avatar`,\n      {\n        method: 'PATCH',\n        headers: {\n          // authorization: this.authorization,\n          'Content-Type': this.content_type,\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          avatar,\n        })\n      }\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n\n  getCards() {\n    return fetch(\n      `${this.baseUrl}/cards`,\n      {\n        method: 'GET',\n        // headers: {\n        //   // authorization: this.authorization,\n        //   // 'Content-Type': this.content_type,\n        // },\n        credentials: 'include',\n      }\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n\n  addCard({ placeName, placeImagelink }) {\n    return fetch(\n      `${this.baseUrl}/cards`,\n      {\n        method: 'POST',\n        headers: {\n          // authorization: this.authorization,\n          'Content-Type': this.content_type,\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          name: placeName,\n          link: placeImagelink,\n        })\n      }\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n\n  deleteCard(id) {\n    return fetch(\n      `${this.baseUrl}/cards/${id}`,\n      {\n        method: 'DELETE',\n        // headers: {\n        //   // authorization: this.authorization,\n        //   // 'Content-Type': this.content_type,\n        // },\n        credentials: 'include',\n      }\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n\n  toggleCardLike(id, liking) {\n    return fetch(\n      `${this.baseUrl}/cards/${id}/likes`,\n      {\n        method: liking ? 'PUT' : 'DELETE',\n        // headers: {\n        //   // authorization: this.authorization,\n        //   // 'Content-Type': this.content_type,\n        // },\n        credentials: 'include',\n      }\n    )\n      .then(res => this.primaryResponseHandler(res));\n  }\n}\n\nconst api = new Api();\n\nexport default api;\n","import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();","import { createContext } from 'react';\n\nexport const LoginStatusContext = createContext();","import { useContext } from 'react';\nimport { LoginStatusContext } from '../contexts/LoginStatusContext';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavBar() {\n  const loginStatus = useContext(LoginStatusContext);\n  return (\n    <nav className=\"nav-bar\">\n      <NavLink exact to=\"/\" className=\"nav-bar__link link\" activeClassName=\"nav-bar__link_active\" >Главная</NavLink>\n      {loginStatus === 'loggedIn' &&\n        <NavLink\n          to=\"/user-profile\"\n          className=\"nav-bar__link link\"\n          activeClassName=\"nav-bar__link_active\"\n        >\n          Профиль\n        </NavLink>}\n    </nav>\n  )\n}\n\nexport default NavBar;\n","export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import NavBar from './NavBar';\nimport logoImage from '../images/logo.svg';\n\nfunction Header(props) {\n  const {\n    popupMap,\n    handlePopupControlAction,\n    authStatus: { loginStatus },\n    logout,\n  } = props;\n  const {\n    form: { login },\n  } = popupMap;\n\n  function handleAuthButtonClick() {\n    if (loginStatus === 'loggedIn') {\n      logout();\n    } else {\n      const eventImitation = { target: { id: login.name + 'OpenElem' } }\n      handlePopupControlAction(eventImitation);\n    }\n  }\n\n  return (\n    <header className=\"header root__section\">\n      <img src={logoImage} alt=\"mesto logo\" className=\"logo\" />\n      <div className=\"header__menu\">\n        <NavBar />\n        <button\n          type=\"button\"\n          className=\"button header__auth-button\"\n          // id={login.name + 'OpenElem'}\n          onClick={handleAuthButtonClick}\n        >\n          {loginStatus === 'loggedIn' ? 'Выйти' : 'Войти'}\n        </button>\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","import './preloader.css';\n\nfunction Loader() {\n  return (\n    <i className=\"circle-preloader\"/>\n  );\n}\n\nexport default Loader;\n","// import React from 'react';\nimport { useContext } from 'react';\nimport { LoginStatusContext } from '../contexts/LoginStatusContext';\nimport { Route, Redirect } from \"react-router-dom\";\nimport Loader from './Loader';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  const loginStatus = useContext(LoginStatusContext);\n\n  // console.log('loginStatus', loginStatus);\n  if (loginStatus === 'unknown') {\n    return <Loader />\n  } else {\n    return loginStatus === 'loggedIn' ? <Component {...props} /> : <Redirect to=\"/\" />;\n  }\n  // return (\n  //   // <Route exact path=\"/user-profile\">\n  //   <Route>\n  //     {\n  //       () => {\n  //         if (loginStatus === 'unknown') {\n  //           return <Loader />\n  //         } else {\n  //           return loginStatus === 'loggedIn' ? <Component {...props} /> : <Redirect to=\"/\" />;\n  //         }\n  //         // () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n  //       }\n  //     }\n  //   </Route>\n  // );\n\n  // return () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./\" />;\n  // на такое Реакт ругается в консоли\n}\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/vitaliytikhonov.152f7d20.jpg\";","import authorPhotoPath from '../images/vitaliytikhonov.jpg';\n\nfunction ProjectInfo() {\n  return (\n    <section className=\"project-info root__section\">\n      <img\n        src={authorPhotoPath}\n        alt=\"Фото автора\"\n        className=\"project-info__avatar\"\n      />\n\n        <div className=\"project-info__description\">\n          <h3 className=\"project-info__headline section-headline\">Об авторе</h3>\n\n          <p className=\"project-info__text\">Я Виталий Тихонов. В&nbsp;2020&nbsp;г. прошел обучение профессии веб-разработчика в\n          Яндекс.Практикуме.</p>\n\n          <p className=\"project-info__text\">Этот вариант «Места» – мой первый учебный проект на фреймворке React.js.</p>\n\n          <p className=\"project-info__text\">Здесь можно публиковать фотографии мест, которые вам интересны, и смотреть изображения, добавленные другими.</p>\n        </div>\n    </section>\n  )\n}\n\nexport default ProjectInfo;\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction UserProfile(props) {\n  const { handlePopupControlAction, form: { editProfile, changePhoto, newPlace } } = props;\n\n  const {\n    userDescription,\n    avatar,\n    // email,\n    userName,\n    // _id,\n  } = useContext(CurrentUserContext);\n\n  return (\n    <section className=\"profile root__section\">\n      <div className=\"user-info\">\n        <div className=\"user-info__photo\" id={changePhoto.name + 'OpenElem'} onClick={handlePopupControlAction} style={{ backgroundImage: `url(${avatar})` }} />\n        <div className=\"user-info__data\">\n          <h1 className=\"user-info__name\">{userName}</h1>\n          <p className=\"user-info__about\">{userDescription}</p>\n          <button className=\"button user-info__button-edit-profile\" id={editProfile.name + 'OpenElem'} onClick={handlePopupControlAction}>Редактировать</button>\n        </div>\n        <button className=\"button user-info__button\" id={newPlace.name + 'OpenElem'} onClick={handlePopupControlAction}>+</button>\n      </div>\n    </section>\n  );\n}\n\nexport default UserProfile;\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { LoginStatusContext } from '../contexts/LoginStatusContext';\n\nfunction Card(props) {\n  const {\n    cardData,\n    cardData: { _id, name, link, owner, likes },\n    handlePopupControlAction,\n    popupName,\n    onCardLike,\n    onCardDelete,\n  } = props;\n  const currentUser = useContext(CurrentUserContext);\n  const loginStatus = useContext(LoginStatusContext);\n\n  const isOwn = owner === currentUser._id;\n  const isLiked = likes.some((_id) => _id === currentUser._id);\n\n  function handleImageClick() {\n    const eventImitation = {\n      target: {\n        id: popupName + 'OpenElem',\n        imageUrl: link,\n      },\n    }\n    handlePopupControlAction(eventImitation);\n  }\n\n  function handleLikeClick() {\n    onCardLike(cardData, !isLiked);\n  }\n\n  function handleDeleteClick(event) {\n    event.stopPropagation();\n    if (window.confirm(\"Удалить карточку?\")) {\n      onCardDelete(_id);\n    }\n  }\n\n  return (\n    <div className=\"place-card\">\n      <div\n        className=\"place-card__image\"\n        style={{ backgroundImage: `url(${link})` }}\n        onClick={handleImageClick}\n      >\n        <button\n          className=\"place-card__delete-icon\"\n          onClick={handleDeleteClick}\n          disabled={!isOwn} />\n      </div>\n      <div className=\"place-card__description\">\n        <h3 className=\"place-card__name\">{name}</h3>\n        <div className=\"like\">\n          <button\n            className={`like__icon ${isLiked ? 'like__icon_liked' : \"\"}`}\n            onClick={handleLikeClick}\n            disabled={loginStatus === 'loggedIn' ? false : true}\n          />\n          <span className=\"like__count\">{likes.length}</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Card;\n\n\n// createdAt: \"2020-08-23T13:40:40.294Z\"\n// likes: Array(0)\n// length: 0\n// __proto__: Array(0)\n// link: \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQvaJJHCJOhAuTLgjXASmMO-L58wbQMMXyNkw&usqp=CAU\"\n// name: \"На селе 45+\"\n// owner: \"5f4271b869f66ac6e5ea7997\"\n// __v: 0\n// _id: \"5f4271d869f66ac6e5ea7998\"","import { useState, useEffect, useContext } from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction CardList(props) {\n  const {\n    imageZoom,\n    cards,\n    handlePopupControlAction,\n    handleCardLike,\n    handleCardDelete,\n    onesOwnCardsOnly,\n  } = props;\n  const currentUser = useContext(CurrentUserContext);\n  const [cardsToRender, setCardsToRender] = useState([]);\n\n  useEffect(function () {\n    if (!onesOwnCardsOnly) {\n      setCardsToRender(cards);\n    } else {\n      const ownCards = cards.filter((c) => c.owner === currentUser._id);\n      setCardsToRender(ownCards);\n    }\n  }, [onesOwnCardsOnly, cards, currentUser._id]);\n\n  return (\n    <section className=\"places-list root__section\">\n      {cardsToRender && cardsToRender.map((cardData, index) => {\n        return <Card\n          key={`${index}_${cardData.id}`}\n          cardData={cardData}\n          handlePopupControlAction={handlePopupControlAction}\n          popupName={imageZoom.name}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />;\n      }\n      )}\n    </section>\n  )\n}\n\nexport default CardList;\n","import { Switch, Route } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport ProjectInfo from './ProjectInfo';\nimport UserProfile from './UserProfile';\nimport CardList from './CardList';\n\nfunction Main(props) {\n  const {\n    popupMap: { form, imageZoom },\n    handlePopupControlAction,\n    cards,\n    handleCardLike,\n    handleCardDelete,\n  } = props;\n\n  return (\n    <main className=\"main\">\n      <Switch>\n        <Route exact path=\"/\">\n          <ProjectInfo />\n          <CardList\n            imageZoom={imageZoom}\n            cards={cards}\n            handlePopupControlAction={handlePopupControlAction}\n            handleCardLike={handleCardLike}\n            handleCardDelete={handleCardDelete}\n          />\n        </Route>\n\n        <Route path=\"/user-profile\">\n          <ProtectedRoute\n            component={UserProfile}\n            form={form}\n            handlePopupControlAction={handlePopupControlAction}\n          />\n          <CardList\n            imageZoom={imageZoom}\n            cards={cards}\n            handlePopupControlAction={handlePopupControlAction}\n            handleCardLike={handleCardLike}\n            handleCardDelete={handleCardDelete}\n            onesOwnCardsOnly=\"true\"\n          />\n        </Route>\n      </Switch>\n    </main >\n  )\n}\n\nexport default Main;\n","function PopupForm(props) {\n  const {\n    InputSet,\n    inputState,\n    inputState: { values, updater },\n    contentsConfig: { name: popupName, title },\n    updateData,\n    toggleAuthDialog,\n  } = props; // popupName введено вместо name для исключения конфликта с CurrentUserContext\n\n  function handleInputChange(event) {\n    const { name, value } = event.target;\n    updater({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    updateData(values);\n  }\n\n  return (\n    <div className=\"popup__content popup__content_type_form\">\n      <h3 className=\"popup__title\">{title}</h3>\n      <form className=\"popup__form\" name={popupName} onSubmit={handleSubmit} noValidate>\n        <InputSet handleInputChange={handleInputChange} inputState={inputState} />\n        <button type=\"submit\" className=\"button popup__button\" >Сохранить</button> {/* disabled */}\n        {\n          popupName === \"login\"\n          && (\n            <p className=\"popup__prompt\">\n              или <span className=\"popup__prompt-link\" onClick={toggleAuthDialog}>зарегистрироваться</span>\n            </p>\n          )\n        }\n        {\n          popupName === \"signup\"\n          && (\n            <p className=\"popup__prompt\">\n              или <span className=\"popup__prompt-link\" onClick={toggleAuthDialog}>войти</span>\n            </p>\n          )\n        }\n      </form>\n    </div>\n  )\n}\n\nexport default PopupForm;\n","export default function PopupImageView(props) {\n  const { card } = props;\n\n  return (\n      <div className=\"popup__content popup__content_type_image-view-card\">\n        <img src={card} alt=\"\" className=\"popup__image\" tabIndex={0} />\n      </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/close.8a65f75d.svg\";","import PopupForm from './PopupForm';\nimport PopupImageView from './PopupImageView';\nimport closeImage from '../images/close.svg';\nimport { useEffect } from 'react';\n\nfunction Popup(props) {\n  const {\n    contentsConfig,\n    contentsConfig: { name },\n    handlePopupControlAction,\n    updateData,\n    InputSet,\n    inputState,\n    card,\n    toggleAuthDialog,\n  } = props;\n\n  useEffect(() => {\n    const popup = document.getElementById(`${name}Popup`)\n    function handleEscapeAndClickBeyond(event) {\n      if (event.key === 'Escape' || (event.type === 'click' && event.target === popup)) {\n        const eventImitation = { target: { id: name + 'OpenElem' } }\n        handlePopupControlAction(eventImitation);\n      }\n    }\n\n    document.addEventListener('keydown', handleEscapeAndClickBeyond);\n    document.addEventListener('click', handleEscapeAndClickBeyond);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscapeAndClickBeyond);\n      document.removeEventListener('click', handleEscapeAndClickBeyond);\n    };\n  });\n\n  return (\n    <div className=\"popup popup_is-open\" id={name + 'Popup'} tabIndex={0}>\n      <div className=\"popup__slot\">\n        <img\n          src={closeImage}\n          alt=\"Close\"\n          className=\"popup__close\"\n          id={name + 'OpenElem'}\n          onClick={handlePopupControlAction}\n        />\n        {InputSet && <PopupForm\n          InputSet={InputSet}\n          contentsConfig={contentsConfig}\n          updateData={updateData}\n          inputState={inputState}\n          toggleAuthDialog={toggleAuthDialog}\n        />}\n        {card && <PopupImageView card={card} />}\n      </div>\n    </div>\n  )\n}\n\nexport default Popup;\n","import { useEffect, useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfileInputSet(props) {\n  const {\n    handleInputChange,\n    inputState: { values, updater },\n  } = props;\n\n  const { userDescription, userName } = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    updater({\n      userName,\n      userDescription,\n    });\n  }, [updater, userName, userDescription]); // updater добавлен, чтобы линтер не ругался. Как обойти?\n\n  return (\n    <>\n      <input type=\"text\" name=\"userName\" value={values.userName} id=\"user-name\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Имя\" required minLength={2} maxLength={30} />\n      <span className=\"popup__error\" id=\"user-name-error\" />\n      <input type=\"text\" name=\"userDescription\" value={values.userDescription} id=\"user-description\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"О себе\" required minLength={2} maxLength={30} />\n      <span className=\"popup__error\" id=\"user-description-error\" />\n    </>\n  )\n}\n\nexport default EditProfileInputSet;\n","import { useEffect, useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction ChangePhotoInputSet(props) {\n  const {\n    handleInputChange,\n    inputState: { values, updater },\n  } = props;\n\n  const { avatar } = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    updater({ avatar });\n  }, [updater, avatar]); // updater добавлен, чтобы линтер не ругался. Как обойти?\n\n  return (\n    <>\n      <input type=\"url\" name=\"avatar\" value={values.avatar} id=\"avatar\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Ссылка на аватар\" required />\n      <span className=\"popup__error\" id=\"avatar-error\" />\n    </>\n  )\n}\n\nexport default ChangePhotoInputSet;\n","function NewPlaceInputSet(props) {\n  const {\n    handleInputChange,\n    inputState: { values },\n  } = props;\n\n  return (\n    <>\n      <input type=\"text\" name=\"placeName\" value={values.placeName} id=\"place-name\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Название\" required minLength={2} maxLength={30} />\n      <span className=\"popup__error\" id=\"place-name-error\" />\n      <input type=\"url\" name=\"placeImagelink\" value={values.placeImagelink} id=\"place-link\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Ссылка на картинку\" required />\n      <span className=\"popup__error\" id=\"place-link-error\" />\n    </>\n  )\n}\n\nexport default NewPlaceInputSet;\n","function SignupInputSet(props) {\n  const {\n    handleInputChange,\n    inputState: { values },\n  } = props;\n\n  return (\n    <>\n      <input type=\"text\" name=\"userName\" value={values.userName} id=\"user-name\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Имя\" required minLength={2} maxLength={30} />\n      <span className=\"popup__error\" id=\"user-name-error\" />\n      <input type=\"text\" name=\"userDescription\" value={values.userDescription} id=\"user-description\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"О себе\" required minLength={2} maxLength={30} />\n      <span className=\"popup__error\" id=\"user-description-error\" />\n      <input type=\"url\" name=\"avatar\" value={values.avatar} id=\"avatar\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Ссылка на аватар\" required />\n      <span className=\"popup__error\" id=\"avatar-error\" />\n      <input type=\"email\" name=\"email\" value={values.email} id=\"email\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Адрес электронной почты\" required minLength={2} maxLength={30} />\n      <span className=\"popup__error\" id=\"email-error\" />\n      <input type=\"password\" name=\"password\" value={values.password} id=\"password\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Пароль\" required minLength={2} maxLength={30} />\n      <span className=\"popup__error\" id=\"password-error\" />\n    </>\n  )\n}\n\nexport default SignupInputSet;\n","function LoginInputSet(props) {\n  const {\n    handleInputChange,\n    inputState: { values },\n  } = props;\n\n  return (\n    <>\n      <input type=\"email\" name=\"email\" value={values.email} id=\"email\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Введите адрес электронной почты\" required minLength={2} maxLength={30} />\n      <span className=\"popup__error\" id=\"email-error\" />\n      <input type=\"password\" name=\"password\" value={values.password} id=\"password\" className=\"popup__input\" onChange={handleInputChange} placeholder=\"Введите пароль\" required minLength={2} maxLength={30} />\n      <span className=\"popup__error\" id=\"password-error\" />\n    </>\n  )\n}\n\nexport default LoginInputSet;\n","export const popupConfig = {\n  form: {\n    signup: {\n      name: 'signup',\n      title: 'Зарегистрироваться',\n    },\n    login: {\n      name: 'login',\n      title: 'Войти',\n    },\n    editProfile: {\n      name: 'editProfile',\n      title: 'Редактировать профиль',\n    },\n    changePhoto: {\n      name: 'changePhoto',\n      title: 'Сменить аватар',\n    },\n    newPlace: {\n      name: 'newPlace',\n      title: 'Новое место',\n    },\n  },\n  imageZoom: {\n    name: 'imageZoom',\n  },\n\n};\n","import { useState, useEffect } from 'react';\nimport api from \"../utils/Api\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { LoginStatusContext } from '../contexts/LoginStatusContext';\nimport Header from './Header';\nimport Main from './Main';\nimport Popup from './Popup';\n// import Footer from './Footer';\nimport EditProfileInputSet from './EditProfileInputSet';\nimport ChangePhotoInputSet from './ChangePhotoInputSet';\nimport NewPlaceInputSet from './NewPlaceInputSet';\nimport SignupInputSet from './SignupInputSet';\nimport LoginInputSet from './LoginInputSet';\nimport { popupConfig } from '../configs/constants';\n// import '../utils/onetimeOperations';\n\nfunction App() {\n  const [loginStatus, setLoginStatus] = useState('unknown');\n  // const [loggedIn, setLoggedIn] = useState(false);\n  const [isSignupPopupOpen, setSignupPopupOpen] = useState(false);\n  const [isLoginPopupOpen, setLoginPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = useState(false);\n  const [popupMap] = useState(popupConfig);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({\n    userName: '',\n    userDescription: '',\n    avatar: '',\n    email: '',\n    _id: '',\n  });\n  const [cards, setCards] = useState([]);\n\n  const [signupValues, setSignupValues] = useState({\n    userName: '',\n    userDescription: '',\n    avatar: '',\n    password: '',\n    email: '',\n  });\n  const [loginValues, setLoginValues] = useState({\n    email: '',\n    password: '',\n  });\n  const [editProfileValues, setEditProfileValues] = useState({\n    userName: '',\n    userDescription: '',\n  });\n  const [changePhotoValues, setChangePhotoValues] = useState({\n    avatar: '',\n  });\n  const [newPlaceValues, setNewPlaceValues] = useState({\n    placeName: '',\n    placeImagelink: '',\n  });\n\n  async function signup(userInputObj) {\n    try {\n      const serverResponse = await api.signup(userInputObj);\n      // console.log('signup serverResponse\\n', serverResponse);\n      setSignupPopupOpen(false);\n      // setLoggedIn(true);\n      setLoginStatus('loggedIn');\n      setCurrentUser(serverResponse);\n      setSignupValues({\n        userName: '',\n        userDescription: '',\n        avatar: '',\n        email: '',\n      });\n    } catch (err) {\n      const errResJson = await err.json();\n      console.log(errResJson);\n      setLoginStatus('loggedOut');\n    }\n  }\n\n  async function login(userInputObj) {\n    try {\n      const serverResponse = await api.login(userInputObj);\n      // console.log('login serverResponse\\n', serverResponse);\n      setLoginPopupOpen(false);\n      // setLoggedIn(true);\n      setLoginStatus('loggedIn');\n      setCurrentUser(serverResponse);\n      setLoginValues({\n        email: '',\n        password: '',\n      });\n    } catch (err) {\n      const errResJson = await err.json();\n      console.log(errResJson);\n      // console.log(err);\n      setLoginStatus('loggedOut');\n    }\n  }\n\n  async function logout() {\n    try {\n      await api.logout();\n      // console.log('logout serverResponse\\n', serverResponse);\n      // setLoggedIn(false);\n      setLoginStatus('loggedOut');\n      setCurrentUser({\n        userName: '',\n        userDescription: '',\n        avatar: '',\n        email: '',\n        _id: '',\n      });\n    } catch (err) {\n      const errResJson = await err.json();\n      console.log(errResJson);\n      // console.log(err);\n    }\n  }\n\n  async function updateUserData(userInputObj) {\n    try {\n      const serverResponse = await api.saveProfile(userInputObj);\n      // console.log('updateUserData serverResponse\\n', serverResponse);\n      setCurrentUser(serverResponse);\n      setIsEditProfilePopupOpen(false);\n    } catch (err) {\n      const errResJson = await err.json();\n      console.log(errResJson);\n    }\n  }\n\n  async function updateUserAvatar(userInputObj) {\n    try {\n      const serverResponse = await api.changePhoto(userInputObj);\n      setCurrentUser(serverResponse);\n      setIsEditAvatarPopupOpen(false);\n    } catch (err) {\n      const errResJson = await err.json();\n      console.log(errResJson);\n    }\n  }\n\n  async function saveNewPlaceData(userInputObj) {\n    try {\n      const serverResponse = await api.addCard(userInputObj);\n      setCards([...cards, serverResponse]);\n      setIsAddCardPopupOpen(false);\n    } catch (err) {\n      const errResJson = await err.json();\n      console.log(errResJson);\n    }\n  }\n\n  async function handleCardLike(card, likeOrUnlike) {\n    try {\n      const newCard = await api.toggleCardLike(card._id, likeOrUnlike);\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    } catch (err) {\n      console.log(err);\n    };\n  }\n\n  async function handleCardDelete(cardId) {\n    try {\n      const deletedCard = await api.deleteCard(cardId);\n      const newCards = cards.filter((c) => c._id !== deletedCard._id);\n      setCards(newCards);\n    } catch (err) {\n      console.log(err);\n    };\n  }\n\n  function toggleAuthDialog() {\n    setSignupPopupOpen(!isSignupPopupOpen);\n    setLoginPopupOpen(!isLoginPopupOpen);\n  }\n\n  /* просто прокидывать сами стейт-сеттеры? */\n  function handlePopupControlAction(event) {\n    switch (event.target.id) {\n      case `${popupMap.form.signup.name}OpenElem`:\n        setSignupPopupOpen(!isSignupPopupOpen);\n        break;\n      case `${popupMap.form.login.name}OpenElem`:\n        setLoginPopupOpen(!isLoginPopupOpen);\n        break;\n      case `${popupMap.form.editProfile.name}OpenElem`:\n        setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n        break;\n      case `${popupMap.form.changePhoto.name}OpenElem`:\n        setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n        break;\n      case `${popupMap.form.newPlace.name}OpenElem`:\n        setIsAddCardPopupOpen(!isAddCardPopupOpen);\n        break;\n      case `${popupMap.imageZoom.name}OpenElem`:\n        const link = event.target.imageUrl;\n        link\n          ? setSelectedCard(link)\n          : setSelectedCard(null);\n        break;\n      default:\n    }\n    document.activeElement.blur(); // Чтобы попап не закрывался по Enter\n  }\n\n  useEffect(function () {\n    // console.log('fetchUserData useEffect');\n    async function fetchUserData() {\n      try {\n        const currentUserData = await api.getUserInfo();\n        // setLoggedIn(true);\n        setCurrentUser(currentUserData);\n        setLoginStatus('loggedIn');\n      } catch (err) {\n        const errResJson = await err.json();\n        console.log(errResJson);\n        setLoginStatus('loggedOut');\n      }\n    }\n    fetchUserData();\n  }, [loginStatus]);\n\n  useEffect(function () {\n    // console.log('fetchCards useEffect');\n    async function fetchCards() {\n      try {\n        const cards = await api.getCards();\n        setCards(cards);\n      } catch (err) {\n        const errResJson = await err.json();\n        console.log(errResJson);\n      }\n    }\n    fetchCards();\n  }, []);\n\n  return (\n    <LoginStatusContext.Provider value={loginStatus}>\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"root\">\n          <Header\n            popupMap={popupMap}\n            handlePopupControlAction={handlePopupControlAction}\n            authStatus={{ loginStatus }}\n            logout={logout}\n          />\n\n          <Main\n            popupMap={popupMap}\n            handlePopupControlAction={handlePopupControlAction}\n            cards={cards}\n            handleCardLike={handleCardLike}\n            handleCardDelete={handleCardDelete}\n          />\n\n          {isSignupPopupOpen && (\n            <Popup\n              contentsConfig={popupMap.form.signup}\n              InputSet={SignupInputSet}\n              inputState={{\n                values: signupValues,\n                updater: setSignupValues,\n              }}\n              handlePopupControlAction={handlePopupControlAction}\n              updateData={signup}\n              toggleAuthDialog={toggleAuthDialog}\n            />\n          )}\n          {isLoginPopupOpen && (\n            <Popup\n              contentsConfig={popupMap.form.login}\n              InputSet={LoginInputSet}\n              inputState={{\n                values: loginValues,\n                updater: setLoginValues,\n              }}\n              handlePopupControlAction={handlePopupControlAction}\n              updateData={login}\n              toggleAuthDialog={toggleAuthDialog}\n            />\n          )}\n          {isEditProfilePopupOpen && (\n            <Popup\n              contentsConfig={popupMap.form.editProfile}\n              InputSet={EditProfileInputSet}\n              inputState={{\n                values: editProfileValues,\n                updater: setEditProfileValues,\n              }}\n              handlePopupControlAction={handlePopupControlAction}\n              updateData={updateUserData}\n            />\n          )}\n          {isEditAvatarPopupOpen && (\n            <Popup\n              contentsConfig={popupMap.form.changePhoto}\n              InputSet={ChangePhotoInputSet}\n              inputState={{\n                values: changePhotoValues,\n                updater: setChangePhotoValues,\n              }}\n              handlePopupControlAction={handlePopupControlAction}\n              updateData={updateUserAvatar}\n            />\n          )}\n          {isAddCardPopupOpen && (\n            <Popup\n              contentsConfig={popupMap.form.newPlace}\n              InputSet={NewPlaceInputSet}\n              inputState={{\n                values: newPlaceValues,\n                updater: setNewPlaceValues,\n              }}\n              handlePopupControlAction={handlePopupControlAction}\n              updateData={saveNewPlaceData}\n            />\n          )}\n          {selectedCard && (\n            <Popup\n              contentsConfig={popupMap.imageZoom}\n              card={selectedCard}\n              handlePopupControlAction={handlePopupControlAction}\n            />\n          )}\n\n        </div>\n      </CurrentUserContext.Provider>\n    </LoginStatusContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}